<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- seo -->
  <title>The Deception Game</title>
  <meta name="description" content="a game to distinguish lies from truth" >
  <meta name="keywords" content="meaning,language,lies,truth">
  <!-- styles -->
  <link rel="stylesheet" href="/styles/guess.css" type="text/css" media="screen,handheld" charset="utf-8">
  <!-- google analytics -->
  <script src="/scripts/analytics.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
  <div class="container">
    <div class="right-box">
      <a class="btn auth-btn" href="/logout">
        Logout
      </a>
      <span class="points-box label label-inverse">
        {{points}} points
      </span>
    </div>
    {{#reply}}
    <div class="row">
      <section class="span8 offset2">
        <div class="alert alert-block alert-{{ alert_type }}">
          <h4 class="alert-heading">{{ leader }}</h4>
          <p>{{{ text }}}</p>
          <p><em>{{ tweener }}</em></p>
        </div>
      </section>
    </div>
    {{/reply}}
    <div class="row">
      <section class="span8 offset2">
        <div class="hero-unit">
          <h1>Discern</h1>
          <p>
            Do you think that this statement about the {{ entity_type }} {{{ entity }}} is deceptive?
          </p>
          <p class="well experience-box">
            The experience was
            {{{ stars }}}
          </p>
          <p class="well">
            {{ fragment }}
          </p>
          <form class="form-inline" action="/guess" method="post" accept-charset="utf-8">
            <input type="hidden" name="fragment_id" value="{{ fragment_id }}">
            <input type="hidden" name="truth" id="input-truth" value="false">
            <button class="btn btn-primary btn-large">
              authentic
            </button>
            <button class="btn btn-inverse btn-large">
              deceptive
            </button>
          </form>
        </div>
      </section>
    </div>
  </div>
  <script type="text/javascript" charset="utf-8">
    var buttons = document.querySelectorAll('.form-inline > button');
    Array.prototype.forEach.call(buttons, function(button) {
      button.addEventListener('click', function(ev) {
        var truth, guess;
        truth = document.getElementById('input-truth');
        guess = ev.target.innerText || ev.target.textContent;
        if (guess == 'authentic') {
          truth.value = 'true';
        } else {
          truth.value = 'false';
        }
      });
    });
  </script>
</body>
</html>
